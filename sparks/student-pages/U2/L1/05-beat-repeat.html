<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 2 Lab 1: Song Player, Activity 5</title>
</head>
<body>
<h2>Beat Repeat</h2>



<div class="learn">In this activity, you will make it easier to play a song by putting the notes in a list.</div>
<h3>Using <code>For Each</code> to Traverse a List</h3>

<p>
<img alt="for each (item) in 'list input slot' {
}" class="imageRight nopadtb" src="/bjc-r-ita/img/blocks/for-each.png" title="for each (item) in 'list input slot' {
}"/>
			One way to simplify writing a song is to use a <em>list</em> to store the pitches and then play each pitch in the list. You can use <code>for each</code> to run a command (or group of commands) for each item in a list. For example: <br/>
<a class="js-run snap-project" href="/bjc-r-ita/sparks/prog/U2/lab01/sample-song-with-for-each.xml" target="_blank" title="Example of For Each - Snap! project"><img alt="for each (pitch) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
	play ♪ pitch: (pitch) beats: (0.5)
}" class="indent" src="/bjc-r-ita/sparks/img/U2/lab01/example-for-each.png" title="for each (pitch) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
	play ♪ pitch: (pitch) beats: (0.5)
}"/></a>
</p>
<div class="endnote">Playing the pitch 0 works like a rest (a pause in the music).</div>
<div class="vocabFullWidth">: <strong>List</strong>
<p>A <strong>list</strong> is an ordered sequence of items. You've been using lists throughout this course: to store words for a story, to manipulate the letters of a secret message, and even to store lists such as each individual's responses to the question in a survey.</p>
<div class="endnote">
<a data-toggle="collapse" href="#ordered" title="What does 'ordered' mean?">What does "ordered" mean?</a>
<div class="collapse" id="ordered">
<p>
						It doesn't mean that the items have to appear in alphabetical or numeric order.  It just means that these are different lists:<br/>
<img alt="(list a b)" class="indent" src="/bjc-r-ita/img/1-introduction/list-a-b.png" title="(list a b"/>
<img alt="(list b a)" class="indent" src="/bjc-r-ita/img/1-introduction/list-b-a.png" title="(list b a)"/>
</p>
</div>
</div>
</div>
<div class="forYouToDo">
<ol>
<li>
					Log in to Snap!, and do one of the following:
					
<ul>
<li>Open the <a class="js-run snap-project" href="/bjc-r-ita/sparks/prog/U2/lab01/sample-song-with-for-each.xml" target="_blank" title="Example of For Each - Snap! project"><code>for each</code> example project</a> and save it to your Snap<em>!</em> account.</li>
<li>Open your "Song Player" project if isn't open already.</li>
</ul>
</li>
<li>
					Create a simple song using <code>for each</code>. If you opened the example project, edit the pitches in the list to create your song. If you opened your own "Song Player" project...
					<ol>
<li>Drag a <code>for each</code> block into the scripting area, and drag a <code>play ♪</code> block inside it.<br/>
<img alt="for each (item) in 'list input slot {
	play ♪ pitch: () beats: ()
}" class="indent" src="/bjc-r-ita/sparks/img/U2/lab01/for-each-play-note.png" title="for each (item) in 'list input slot {
	play ♪ pitch: () beats: ()
}">
</img></li>
<li>
							Rename the <var>item</var> variable to <var>pitch</var> by clicking it, typing the new name ("pitch"), and clicking "OK."<br/>

<img alt="animation showing the user clicking the 'item' variable in a 'for each block', typing 'pitch', and then pressing 'OK.' The 'for each' variable is then named 'pitch' and not 'item'" class="indent" data-gifffer="/bjc-r-ita/sparks/img/U2/lab01/for-each-pitch-variable.gif" title="animation showing the user clicking the 'item' variable in a 'for each block', typing 'pitch', and then pressing 'OK.' The 'for each' variable is then named 'pitch' and not 'item'">
</img></li>
<li>
							Drag the <var>pitch</var> variable into the "pitch" input (the first input) of the <code>play ♪</code> block. Dragging will make a copy of <var>pitch</var>, so you should see <var>pitch</var> in both places.<br/>
<img alt="animation showing the user clicking the 'pitch' variable and dragging it into the first input slot of the 'play ♪' block" class="indent" data-gifffer="/bjc-r-ita/sparks/img/U2/lab01/for-each-pitch-variable-move.gif" title="animation showing the user clicking the 'pitch' variable and dragging it into the first input slot of the 'play ♪' block"/>
</li>
<li>Type a number for the "beats" input (the second input) of the <code>play ♪</code> block. (For example, if you want half notes, type the number "0.5".)</li>
<li>
							Drag a <code>list</code> block into the list input slot of the <code>for each</code> block, add some notes, and click the script to test out your song as you build it.<br/>
<img alt="animation showing the LIST block being dragged into the list input slot of the FOR EACH block. The right triangle button in the LIST block is clicked twice, and each time three additional inputs to the LIST block appear. The numbers 60, 60, 67, 67, 69, 69, 67 are typed into the inputs to the LIST block, and then the FOR EACH block is clicked." class="indent" data-gifffer="/bjc-r-ita/sparks/img/U2/lab01/for-each-list.gif" title="animation showing the LIST block being dragged into the list input slot of the FOR EACH block. The right triangle button in the LIST block is clicked twice, and each time three additional inputs to the LIST block appear. The numbers 60, 60, 67, 67, 69, 69, 67 are typed into the inputs to the LIST block, and then the FOR EACH block is clicked."/>
</li>
<div class="endnote">
							Tips for working with the <code>list</code> block:
							<ul>
<li>If you hold down the "shift" key when you press the ◂ or ▸ buttons, it will remove or add <em>three</em> spaces at the end of the list instead of just one.</li>
<li>You can press the "tab" key to move the typing cursor to the next input slot without using your mouse.</li>
<li>If you want to add or remove a pitch from your list, you don't have to move the other numbers around. To add a new slot, right-click the slot where you want it to appear, and select "insert a slot." To remove a slot, right-click it, and select "delete slot." </li>
</ul>
</div>
</ol>
</li>
<li>Make sure your script plays your song correctly before moving on.</li>
</ol>
</div>

<h3>Using <code>For Each</code> to Play <em>Any</em> List of Pitches</h3>
<p>
			You can create a <code>play song</code> block that will apply this script to any input song.<br/>
<img alt="play song (list (60) (60) (67) (67) (69) (69) (67))" class="indent" src="/bjc-r-ita/sparks/img/U2/lab01/play-song-with-inputs.png" title="play song (list (60) (60) (67) (67) (69) (69) (67))"/>
</p>
<div class="forYouToDo">

<ol start="4">
<li>Create a new command block called <code>play song</code> that takes a list of notes as input and plays each note in the list using <code>for each</code>.
					
<div class="endnote">
<p><a data-toggle="collapse" href="#hint-new-block" title="Click for a hint about creating a new command block that takes a list of notes as input and plays each note in the list using FOR EACH.">Click for a hint.</a></p>
<div class="collapse" id="hint-new-block">
<p>
<ol>
<li>Create a new block called <code>play song</code> that takes one input called <var>song</var>, which will be a list of pitches. (To add an input, you have the hover over the tiny space to the right of the block name to get the plus sign (+) to show up and then click it.)</li>
<li>Duplicate your <code>for each pitch, play ♪</code> code by right-clicking the <code>for each</code> block and selecting "duplicate," and then attach the copied code to the <code>play song</code> hat block in the block editor.</li>
<li>Remove the list block containing your previous song, drag the <var>song</var> variable into the <code>for each</code> block where <var>song</var> had been, and click, "OK."</li>
</ol>
</p>
<p><a data-toggle="collapse" href="#hint-new-block-animation" title="Click for a video showing how to create the new command block.">Click for a video.</a></p>
<div class="collapse" id="hint-new-block-animation">
<img alt="animation showing the steps for creating a new command block that takes a list of notes as input and plays each note in the list: 1) Create a new block called PLAY SONG that takes one input called SONG, which will be a list of pitches; 2) Duplicate your FOR EACH PITCH, PLAY ♪ code by right-clicking the FOR EACH block and selecting 'duplicate,' and then attach the copied code to the PLAY SONG hat block in the block editor; 3) Remove the list block containing your previous song, drag the SONG variable into the FOR EACH block where SONG had been, and click, 'OK.'" class="indent" data-gifffer="/bjc-r-ita/sparks/img/U2/lab01/play-song-block-animation.gif" title="animation showing the steps for creating a new command block that takes a list of notes as input and plays each note in the list: 1) Create a new block called PLAY SONG that takes one input called SONG, which will be a list of pitches; 2) Duplicate your FOR EACH PITCH, PLAY ♪ code by right-clicking the FOR EACH block and selecting 'duplicate,' and then attach the copied code to the PLAY SONG hat block in the block editor; 3) Remove the list block containing your previous song, drag the SONG variable into the FOR EACH block where SONG had been, and click, 'OK.'"/>
</div>
</div>
</div>
</li>

<li>Try out your <code>play song</code> block with at least two different lists of pitches, and fix any issues with the block.</li>
<li>
					Create help text for your <code>play song</code> block by attaching a comment to the hat block. The help text should describe what the block takes as input and what effect the block produces.
					<div class="endnote">
						You learned about adding comments to your code in the "Adding Program Documentation" section of <a href="/bjc-r-ita/sparks/student-pages/U1/L6/01-texting-time.html?topic=sparks%2F1-functions-data.topic&amp;course=middle-school.html" title="Unit 1 Lab 6 Activity 1: Texting Time">Unit 1 Lab 6 Activity 1: Texting Time</a>.<br/>
<img alt="uppercase block code with a comment attached to the hat block. The comment contains the text 'This block takes a string of text as input and reports the same text but with all of the lowercase letters changed to uppercase.'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab06/uppercase-hat-block-comment.png" title="uppercase block code with a comment attached to the hat block. The comment contains the text 'This block takes a string of text as input and reports the same text but with all of the lowercase letters changed to uppercase.'"/>
</div>
</li>
<li><img alt="Now Is a Good Time to Save" class="inline" src="/bjc-r-ita/img/icons/save-now.png" title="Now Is a Good Time to Save"/></li>
</ol>
</div>
<div class="endnote">
<p><a data-toggle="collapse" href="#hint-target" title="Does my play song block have to play every note for the same length of time?">Does my <code>play song</code> block have to play every note for the same length of time?</a></p>
<div class="collapse" id="hint-target"><p>No. On a later page, you can learn a way to store and play songs with both pitch and beat information about each note.</p></div>
</div>
<div class="learn">In this activity, you used <code>for each</code> to play each pitch in a list and created a <code>play song</code> block that will work with any list of pitches.</div>

</body>
</html>
