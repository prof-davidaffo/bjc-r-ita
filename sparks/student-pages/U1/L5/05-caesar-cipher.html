<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 1 Lab 5: Storing and Securing Data, Activity 5</title>
</head>
<body>
<h2>Programming a Caesar Cipher</h2>

<div class="learn">
			In this activity, you will write a program to encode and decode messages using a Caesar cipher (shift cipher).<br/>
<img alt="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/message-i-love-bjc-shifted-by-3-reporting.png" title="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'"/>
<img alt="message ('L#oryh#EMF$') shifted by (-3) reporting 'I love BJC!'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/decoding-i-love-bjc-r-itaeporting.png" title="message ('L#oryh#EMF$') shifted by (-3) reporting 'I love BJC!'"/>
</div>
<h3>Exploring Unicode</h3>
<p>To shift the letters in a message, you need a way to add the shift value to each letter. Computers store characters (letters, digits, symbols, etc.) as numbers called <a href="https://home.unicode.org/" target="_blank" title="Unicode">Unicode</a>. So, you can change the characters of a message into Unicode, add (to make the shift), and then change the Unicode back into letters.</p>

<p>
			This table shows the Unicode for some familiar characters:<br/>
<img alt="Unicode Table" class="indent noshadow" height="330px" src="/bjc-r-ita/img/4-internet/img_CaesarCipher/Mary_CharacterTable.jpeg"/>

</p>
<p>
            The <code>unicode of</code> block reports the Unicode number that is used for a particular character:<br/>
<img alt="unicode of (B) reporting '66'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/unicode-B-reporting.png" title="unicode of (B) reporting '66'"/>
</p>
<p>
            The <code>unicode as letter</code> block reports the character that a given Unicode number represents:<br/>
<img alt="unicode (66) as letter reporting 'B'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/unicode-66-reporting.png" title="unicode (66) as letter reporting 'B'"/>
</p>
<p>
			You can right-click (or control-click on a Mac) either block and select "help..." from the drop-down menu to see more details of how the block works.<br/>
<img alt="unicode of block with dropdown menu open showing 'help...' menu-item selected" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/unicode-of-dropdown.png" title="unicode of block with dropdown menu open showing 'help...' menu-item selected"/>
<img alt="unicode as letter block with dropdown menu open showing 'help...' menu-item selected" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/unicode-as-letter-dropdown.png" title="unicode as letter block with dropdown menu open showing 'help...' menu-item selected"/>
</p>

<div class="forYouToDo" id="second">
<ol>
<li>Open this <a class="js-run snap-project" href="/bjc-r-ita/sparks/prog/U1/lab05/caesar-cipher.xml" target="_blank" title="Caesar Cipher - Snap! project">Caesar Cipher</a> project, and save it to your account.</li>
<li>Experiment with the <code>unicode of</code> and <code>unicode as letter</code> blocks. Write down the Unicode numbers for one word, give them to another student, and translate someone else's Unicode back into a word.</li>
</ol>
</div>
<h3>Working with Lists</h3>
<p>
			If you type more than one character into the input slot of <code>unicode of</code>, it will report a list of the Unicode numbers of those letters:<br/>
<img alt="unicode of (BJC) reporting the list {66, 74, 67}" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/unicode-bjc-r-itaeporting.png" title="unicode of (BJC) reporting the list {66, 74, 67}"/>
</p>
<p>
			You can shift all the letters at once by using that list as the input to the <img alt="() + ()" class="inline-block" src="/bjc-r-ita/img/blocks/plus.png" title="() + ()"/> block:<br/>
<img alt="(unicode of (BJC)) + (3) reporting the list {69, 77, 70}" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/unicode-BJC+3-reporting.png" title="(unicode of (BJC)) + (3) reporting the list {69, 77, 70}"/>
</p>
<p>
			The <code>unicode as letter</code> block can also accept a list as input. It will report a list of the characters for those Unicode numbers:<br/>
<img alt="unicode (unicode of (BJC) + 3) as letter reporting the list {E, M, F}" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/unicode(unicode-BJC+3)as-letter-reporting.png" title="unicode (unicode of (BJC) + 3) as letter reporting the list {E, M, F}"/>
</p>
<p>
			Finally, the <code>join</code> block can accept a list as input too. It will join all the letters from a list into a single string of text:<br/>
<img alt="join( unicode (unicode of (BJC) + 3) as letter) reporting 'EMF'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/join-unicode(unicode-BJC+3)as-letter-reporting.png" title="join( unicode (unicode of (BJC) + 3) as letter) reporting 'EMF'"/>
</p>

<div class="forYouToDo">
<ol start="3">
<li>
					Use the Unicode blocks to encode and decode a whole word or sentence:
					<ol>
<li>
							Use the blocks discussed above to encode a message of your choosing with a shift value of your choosing.
							<div class="endnote">
<p><a data-toggle="collapse" href="#hint-encoding" title="Click for a hint about encoding a message.">Click for a hint about encoding a message.</a></p>
<div class="collapse" id="hint-encoding">
<p>
<ol style="list-style-type: lower-roman;">
<li>Type a message into <code>unicode of</code>.</li>
<li>Use the <img alt="() + ()" class="inline-block" src="/bjc-r-ita/img/blocks/plus.png" title="() + ()"/> block to shift the values.</li>
<li>Use <code>unicode as letter</code> to translate the shifted Unicode back into characters.</li>
<li>Use <code>join</code> to join the characters into text.</li>
</ol>
</p>
</div>
<p><a data-toggle="collapse" href="#hint-characters" title="Why are there characters like = ? @ # ^ * { or ~ ?">Why are there characters like <strong>= ? @ # ^ * { </strong> or <strong>~</strong> ?</a></p>
<div class="collapse" id="hint-characters">
<p>
										Look back at the Unicode chart. Shifting text characters can result in non-alphanumeric (not letter or digit) characters. For example,<br/>
<img alt="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/message-i-love-bjc-shifted-by-3-reporting.png" title="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'"/><br/>
<img alt="Talk with Your Partner" class="inline" src="/bjc-r-ita/img/icons/talk-with-your-partner-mini.png" title="Talk with Your Partner"/>
										Which character in the encoded message shown here represents a space in the original message? Look back at the Unicode chart; can you see why?
									</p>
</div>
</div>
</li>
<li>Then give your encoded message to another student. If they want a challenge, don't give them the shift value. If they don't want that challenge today, give them your shift value too.</li>
<li>
							Use the same Snap<em>!</em> blocks to decode someone else's encoded message.
							<div class="endnote">
<p><a data-toggle="collapse" href="#hint-decoding" title="Click for a hint about decoding a message.">Click for a hint about decoding a message.</a></p>
<div class="collapse" id="hint-decoding">
<p>You can decode a message the same way as you encoded it: change it to Unicode, shift, and change back. You just have to shift in the opposite direction. For example, if the original shift added 5, you need to add -5 to get the original message back.</p>
</div>
<p><a data-toggle="collapse" href="#hint-missing" title="What if your decrypted text is missing some letters?">What if your decrypted text is missing some letters?</a></p>
<div class="collapse" id="hint-missing">
<p>If you copy your encrypted message with a method other than by using copy and paste (for example, by writing it by hand or typing it into a phone), some characters may disappear from your message. This is because some of the Unicode characters after 126 are printing characters that symbolize things like "delete." These characters won't get displayed in Snap<em>!</em>, so you can't copy them by hand, but if you use copy and paste, Snap<em>!</em> knows they are there.</p>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>
<div class="ifTime show">
<ol start="4">
<li><img alt="Talk with Your Partner" class="inline" src="/bjc-r-ita/img/icons/talk-with-your-partner.png" title="Talk with Your Partner"/>How could you use Snap<em>!</em> to help you decode a message that was created with a simple substitution cipher <em>without knowing the key</em>?</li>
</ol>

</div>
<h3>Generalizing the Process</h3>
<div class="forYouToDo">
<ol start="5">
<li>
<img alt="Talk with Your Partner" class="imageRight" src="/bjc-r-ita/img/icons/talk-with-your-partner.png" title="Talk with Your Partner"/>
					Discuss how you decoded the message you received, and listen to how other people decoded the messages they received.
					<ul>
<li>How did the process of encoding the message compare to the process of decoding the message?</li>
<li>What parts of the encoding/decoding process were the same for everyone and what parts were different?</li>
<li>How could make a general process that will work for all messages and all shift values?<a name="creating-block-inputs"> </a></li>
</ul>
</li>
<li>
<div class="sidenoteBig">You learned how to create a new block that takes inputs on the <a href="/bjc-r-ita/sparks/student-pages/U1/L2/02-refining-the-story.html?topic=sparks%2F1-functions-data.topic&amp;course=middle-school.html" target="_blank" title="Unit 1 Lab 2 Page 2: Refining the Story">Refining the Story</a> page of the Super Short Stories lab.</div>
					Create a block that takes <em>any input message</em> and <em>any shift value</em> and reports the same message shifted by that value.<br/>
<img alt="message ('BJC') shifted by (3) reporting the list {E, M, F}" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/message-BJC-shifted-by-3-reporting-list.png" title="message ('BJC') shifted by (3) reporting the list {E, M, F}"/>
<div class="endnote" style="clear: right;">
<p><a data-toggle="collapse" href="#hint-new-block" title="Click for a reminder about how to create a new block.">Click for a reminder about how to create a new block.</a></p>
<div class="collapse" id="hint-new-block">
<p>
<ol style="list-style-type: lower-roman;">
<li>Right-click (or control-click on a Mac) in an empty spot in the Scripts area and choose "make a block..."</li>
<li>Choose the color for your block.</li>
<li>Type the title text for your block (in this case, "message shifted by").</li>
<li>Select the shape for your block.</li>
<li>Click "OK."</li>
</ol>
</p>
</div>
<p><a data-toggle="collapse" href="#hint-local-vars" title="Click for a reminder about how make a block take an input.">Click for a reminder about how make a block take an input.</a></p>
<div class="collapse" id="hint-local-vars">
<p>
<ol style="list-style-type: lower-roman;">
<li>
										Hold your mouse pointer at the point in the title text of the hat block in the block editor where you want the input slot to appear, and click the plus sign that appears.<br/>
<img alt="'message shifted by' hat block showing a plus sign appearing between the word 'message' and the word 'shifted'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/message-shifted-by-hat-block.png" title="'message shifted by' hat block showing a plus sign appearing between the word 'message' and the word 'shifted'"/>
</li>
<li>Type the name of the variable you want to add (such as <code>message</code> or <code>shift value</code>), and press "OK."</li>
<li>
										To use this new local variable in your code, drag off a copy from the hat block, drop it into your code.<br/>
<img alt="'message (message) shifted by (shift value)' hat block showing a copy of the 'shift value' variable being dragged off the original 'shift value' variable in the hat block" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/message-shifted-by-hat-block-dragging.png" title="'message (message) shifted by (shift value)' hat block showing a copy of the 'shift value' variable being dragged off the original 'shift value' variable in the hat block"/>
</li>
</ol>
</p>
</div>
</div>
</li>
<li><img alt="Talk with Your Partner" class="inline" src="/bjc-r-ita/img/icons/talk-with-your-partner.png" title="Talk with Your Partner"/>How can you use this same <code>message shifted by</code> block to <em>decode</em> a message?</li>
<li>Test it your block by encoding and decoding a few messages, and fix any problems.</li>
<li><img alt="Save your work" class="inline" src="/bjc-r-ita/img/icons/save-now.png" title="Save your work"/></li>
</ol>
</div>
<div class="ifTime show">

<ol start="10">
<li>
					Change the shape of the input slots for the <var>message</var> and <var>shift value</var> variables to match their input types (text and number, respectively).
					<div class="endnote">
<p>
							You can change the input slot shape by clicking the variable name in the hat block of the block editor, clicking the right-facing triangle (▸) after the "Input name" option, selecting the input type, and clicking "OK" twice.<br/>
<img alt="message () shifted by ()" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/message-shifted-by.png" title="message () shifted by ()"/>
<img alt="message 'text input slot: a long rectangle' shifted by 'number input slot: an oval'" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/message-shifted-by-input-slots.png" title="message 'text input slot: a long rectangle' shifted by 'number input slot: an oval'"/>
</p>
<p><a data-toggle="collapse" href="#hint-shift-value" title="Click for images of how to change the 'shift value' input type.">Click for images of how to change the <var>shift value</var> input type.</a></p>
<div class="collapse" id="hint-shift-value">
<img alt="" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/input-type-shift-value-hat-block.png" title=""/>
<img alt="" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/input-type-shift-value-triangle.png" title=""/>
<img alt="" class="indent" src="/bjc-r-ita/sparks/img/U1/lab05/input-type-shift-value-number.png" title=""/><br/>
</div>
<p>You can learn more about the shape of input slots and how they tell Snap<em>!</em> and the programmer what kind of inputs are expected in <a href="/bjc-r-ita/sparks/student-pages/U1/L5/03-hex-rgb-colors.html?topic=sparks%2F1-functions-data.topic&amp;course=middle-school.html" target="_blank" title="Unit 1 Lab 5 Activity 3: Hexadecimal Numerals and RGB Colors - more about the shape of input slots behind the link 'Why do the input slots to binary of hex and hex of binary have different shapes?'">Activity 3: Hexadecimal Numerals and RGB Colors</a> behind the link "Why do the input slots to <code>binary of hex</code> and <code>hex of binary</code> have different shapes?" in the yellow box near the middle of page.</p>

</div>
</li>
</ol>
</div>
<div class="takeItFurther show">
<p>Research the historical use of ciphers:</p>
<ol type="A">
<li>
					A simple substitution cipher is relatively easy to break because some letters are used more frequently than others.
					<ul>
<li>Read about Al-Kindi, the Arabic philosopher and mathematician who first described the frequency analysis method of code-breaking, in "Breaking Substitution Ciphers" (<a href="http://www.bitsbook.com/wp-content/uploads/2008/12/B2B_3.pdf#page=184" target="_blank" title="Breaking Substitution Ciphers"><em>Blown to Bits</em> pages 166-169</a>).</li>
<li>This method is still useful today, even with better cryptography tools: <a href="http://www.forbes.com/sites/thomasbrewster/2015/09/03/microsoft-dumb-attacks-cracks-next-gen-cryptography/" target="_blank" title="How A 1200-Year-Old Hacking Technique Can Already Crack Tomorrow's Encrypted Vaults">How a 1200-year-old Hacking Technique Can Already Crack Tomorrow's Encrypted Vaults (Forbes, 9/3/15)</a></li>
</ul>
</li>
<li>Read "Secret Keys and One-Time Pads" (<a href="http://www.bitsbook.com/wp-content/uploads/2008/12/B2B_3.pdf#page=187" target="_blank" title="Secret Keys and One-Time Pads"><em>Blown to Bits</em> pages 169-173</a>) to learn about Vigenère ciphers and methods used during World War 2 and the Cold War.</li>

</ol>
</div>
<div class="learn">In this activity, you wrote a program to encode and decode shift cipher messages by using Unicode blocks and nesting blocks that report lists in other blocks.</div>
</body>
</html>
