<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 8 Lab 4: Building Higher Order Functions, Page 3</title>
</head>
<body>
<h2>Even Numbers and <code>Keep</code></h2>

<div class="learn">
<p><strong>On this page,</strong> you will build two other higher order functions you've learned in this course: <code>keep</code> and <code>combine</code>.</p>
</div>
<p>We want a block that takes a list of numbers as input, and reports a list of just the <strong>even</strong> numbers from the input. </p>
<p>
            You already know how to write this block using the <code>keep</code> higher-order function, but here's what it looks like using recursion:<br/>


<img alt="evens (numbers){if(empty? (numbers)){return(empty list)} else{if((item(1) of (numbers)) mod (2)=0){report(item(1) of (numbers) in front of (evens (all but first of (numbers))))} else{report(evens(all but first of (numbers)))}}}" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/evens.png" title="evens (numbers){if(empty? (numbers)){return(empty list)} else{if((item(1) of (numbers)) mod (2)=0){report(item(1) of (numbers) in front of (evens (all but first of (numbers))))} else{report(evens(all but first of (numbers)))}}}"/>
</p>
<p>Here there are <em>three </em>possible cases to consider, not just the usual base case and recursive case. There's still a base case, namely an empty input list, in which case we report an empty list. But there are <em>two </em>recursive cases, depending on whether or not the first item of the list is even. (There has to be a first item, if we're not in the base case.) The green Operators blocks above take the remainder on dividing the first number by 2, and see if that remainder is 0, in which case the number is even.</p>
<p>If the first number is even, then we want to include that number in the result. So we report that number <code>in front of</code> the recursive call on the rest of the numbers. If the first number isn't even, then we <em>don't </em>want to include it in the result, so we simply report the value reported by the recursive call.</p>
<div class="takeNote">Like <code>plurals</code>, the <code>evens</code> code is an example of a <strong>pattern</strong> of code. There's nothing special about even numbers here. The same pattern could be used to make a list of odd numbers, or numbers that end in 7, or names that start with a Z.</div>
<div class="forYouToDo" id="first">

<p><strong>Do the following exercises using recursion, not higher order functions. </strong></p>
<ol>
<li>
<div class="sidenote">Try modifying the code from <code>evens</code>.</div>
                    Write a block <code>ends-e</code> that takes a list of words as input, and reports a list of those words from the input whose last letter is e.<br/>
<img alt="ends-e(list{the, rain, in, Spain, is, in, Europe}), reporting {the, Europe}" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/endse-ex.png" title="ends-e(list{the, rain, in, Spain, is, in, Europe}), reporting {the, Europe}"/>
</li>
<li>
                    Write a block <code>numbers</code> that takes a list of mixed words and numbers as input, and reports a list of just the numbers from the input list.<br/>
<img alt="numbers(list{the, 1, after, 909}), reporting {1, 909}" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/numbers-ex.png" title="numbers(list{the, 1, after, 909}), reporting {1, 909}"/>
</li>
<li>Generalize the pattern to make a <code>keep</code> block.</li>
<li>Write the <code>combine</code> block. <strong>Note:</strong> The base case will be a list with one item, not an empty list.</li>
</ol>
</div>
<div class="takeNote">
<p>Building <code>map</code>, <code>keep</code>, and <code>combine</code> is a major accomplishment. You've built a real gem of abstraction: higher-order functions, which treat a list as a single value. Some people don't even learn to <em>use</em> higher-order functions in college, let alone build them. ğŸ‰ Congratulations! ğŸ‘ You've finished BJC! ğŸ†</p>
</div>
<div class="takeItFurther">
<ol type="A">
<li>Do the <a href="/bjc-r-ita/cur/programming/8-recursive-reporters/optional-project-sorting/1-sorting-a-list.html?topic=nyc_bjc%2F8-recursive-reporters.topic&amp;course=bjc4nyc.html&amp;novideo&amp;noassignment" target="_blank" title="Unit 8 Optional Project: Sorting">Unit 8 Optional Project: Sorting</a>.</li>
<li>
					Modify any of the sorting algorithms you built in the Optional Project to take a comparison predicate as an input, so you can say<br/>
<img alt="sort(some-values) using (()&gt;()) to compare" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/sortusing.png" title="sort(some-values) using (()&gt;()) to compare"/><br/>
                    to sort with the <em>largest</em> item coming first.
                </li>
</ol>
</div>
</body>
</html>
