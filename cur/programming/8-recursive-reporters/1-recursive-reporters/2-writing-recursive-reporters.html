<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 8 Lab 1: Recursive Reporters, Page 2</title>
</head>
<body>
<h2>Writing Recursive Reporters</h2>

<div class="learn">
<p><strong>On this page,</strong> you'll build a recursive factorial block and several recursive blocks that handle strings.</p>

</div>
<!--<p>To write a recursive reporter, it helps to describe how the output is related to a simpler output of the same reporter.</p>-->
<div class="forYouToDo" id="first">
<p>
<div class="sidenote">Say 9! as "nine factorial", not <em>NINE!</em></div>
                The factorial function, <em>n</em>!, is defined to be the product of the integers from 1 to <em>n</em>.
            </p>
<ol>
<li>The value of 9! is 362,880. Find the value of 10!.
                    <div class="sidenoteBig">Don't forget Betty's advice: <em>base cases are important!</em></div>
</li>
<li>Describe the relationship between 37! and 36!.</li>
<li>Use these ideas to build a <code>factorial</code> block using a recursive reporter.
                </li>
</ol>
</div>

<p>
<!--(I dont' think this is true, personally. --MF) Recursive <em>reporters</em> can be more difficult to write than recursive <em>commands</em>, such as <code>tree</code> and <code>triangle fractal</code>.--> Recursive <em>commands</em> often have structure like this, with multiple commands in the recursive case:
    <div class="sidenote">Recursive procedures can even have <em>multiple</em> recursive calls (<code>tree</code> is a good example; we called <code>tree</code> <em>twice</em> from within a single call to <code>tree</code>).</div>
<img alt="recursion(input){if(base case?(input){do something simple} else{do stuff; recursion(smaller input); do stuff}}" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/rec-command.png" title="recursion(input){if(base case?(input){do something simple} else{do stuff; recursion(smaller input); do stuff}}"/>
</p>
<p>
        	Recursive <em>reporters</em> have a different structure because they can report <em>only one</em> value. Since the <code>report</code> block <em>reports</em> an answer, you'll need to build the answer before or inside the <code>report</code> block call. So, this isn't possible:<br/>
<div class="sidenote">You can't even build this script because you won't be allowed to connect any block <em>below</em> a <code>report</code> block.</div>
<img alt="Cannot do this: recursive reporter(input){if(base case?(input){report (something simple)} else{report something; report(recursive reporter(smaller input)); report something}}" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/bad-rec-reporter.png" title="Cannot do this: recursive reporter(input){if(base case?(input){report (something simple)} else{report something; report(recursive reporter(smaller input)); report something}}"/>
</p>
<!--<p> Higher-order functions, mathematics operations, and other ways to combine information are often used.</p>
        <p>Instead, most of the time a recursive reporter call will be inside a <em>combiner</em> that attaches the result of the recursive call to some other value:</p>
        <p><img src="/bjc-r-ita/img/8-recursive-reporters/rec-reporter.png" alt="correct recursive reporter pattern with combiner" /></p>
        <p>The combiner can be an arithmetic operator such as <code>+</code> or <code>&times;</code>:</p>
        <p><img src="/bjc-r-ita/img/8-recursive-reporters/factorial.png" alt="factorial" /></p> -->

<div class="forYouToDo">
<p>Word processing programs count the number of words and letters in documents. One way to count the number of letters in a phrase is to use a recursive reporter.</p>

<ol start="4">
<li>The phrase <strong>"in the course of human events"</strong> has 24 letters. How many letters are there in the phrase <strong>"When in the course of human events"</strong>?</li>
<li>Recursion always needs a base case to stop the script from calling itself forever. What sort of base case might we use for this situation?</li>
<li>
                	Create a <code>letter count</code> block that takes a list of words as input and reports the total number of letters in all the words. The <code>all but first of</code> block may be useful, but there is more than one way to do this.<br/>
<img alt="letter count(list{We, the. People, of, the, United, States}) reporting 28" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/lettercount.png" title="letter count(list{We, the. People, of, the, United, States}) reporting 28"/>
</li>
<li>
<!--<div class="sidenote">You'll need a block that takes strings and makes larger strings...</div>
                    -->
                    Create your own version of the <code>join words</code> block. This block inputs a list and outputs a string sentence, with spaces:<br/>
<img alt="my join words(list{We, the. People, of, the, United, States}) reporting -We the People of the United States" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/myjoinwords.png" title="my join words(list{We, the. People, of, the, United, States})reporting -We the People of the United States"/>
</li>
</ol>
<!-- <p>Then, compare your work to the real <code>join words</code> block.</p>  -->

</div>
<p>The list operations  <code>all but first of</code> and <code>in front of</code> are frequently used in recursive reporters.</p>
<div class="forYouToDo">
<ol start="8">
<li>
                    Build this <code>plurals</code> block, then describe how it works.<br/>
<img alt="plurals(words){if(empty?(words)){report(empty list)} else{report((join (item 1 of words)(s) in front of (plurals(all but first of (words)))}}" class="indent" src="/bjc-r-ita/img/8-recursive-reporters/plurals.png" title="plurals(words){if(empty?(words)){report(empty list)} else{report((join (item 1 of words)(s) in front of (plurals(all but first of (words)))}}"/>
</li>
</ol>
</div>
</body>
</html>
