<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 3 Lab 4: Combining List Operations, Page 2</title>
<script src="/bjc-r-ita/utilities/gifffer.min.js" type="text/javascript"></script>
<script type="text/javascript">
      window.onload = function () {
        Gifffer();
      };
    </script>
<link href="/bjc-r-ita/css/bjc-gifffer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<img alt="Teacher's Choice" class="imageRight" src="/bjc-r-ita/img/icons/teachers-choice.png" title="Teacher's Choice"/>
<h2>Tic Tac Toe (Teacher's Choice)</h2>


<p>
<a href="/bjc-r-ita/cur/programming/3-lists/1-abstraction/old/3-abstraction-developing-a-board-game.html">In Unit 2</a>, you developed the beginnings of several board games and specialized it
      to play Tic Tac Toe. Now you'll extend that project to keep track of
      theTic Tac Toe moves and recognize when someone wins. Later, you'll be
      able to teach the machine to play, too.
    </p>
<p>
<img alt="Tic Tac Toe video" class="indent" data-gifffer="/bjc-r-ita/img/3-lists/TicTacToe-video.gif"/>
</p>
<div class="forYouToDo">
<ol>
<li>
          Open your project <strong>U2L4-TicTacToe</strong> and save it as
          <strong>U3L4-TicTacToe</strong>. That preserves the old version while
          you modify it here. Play the game, checking to make sure the sprite
          <em>centers</em> itself in each cell (tile) before stamping itself, as
          the animation shows.
        </li>
<li>
          Players can see which cells are used but the program doesn't keep
          track, so players can move into cells that are already taken. Give
          your program a variable
          <img alt="current game variable" class="inline" src="/bjc-r-ita/img/3-lists/current-game-variable.png" title="current game variable"/>
          that will become a list of moves. At the start of the game, this list
          must be initialized empty.
        </li>
<li>
          A <strong>move</strong> lists the player (<strong>x</strong> or
          <strong>o</strong>) and the cell (1 through 9) that the player moved
          to.
          <ol>
<li>
              Build a constructor
              <img alt="the move by player: () to cell number: () reporter" class="inline" src="/bjc-r-ita/img/3-lists/current-move-constructor.png" title="the move by player: () to cell number: () reporter"/>
              that takes the two inputs and reports the list of those two.
              <ul>
<li>
                  You can determine the player from the costume number. Make a
                  reporter
                  <img alt="player () reporter" src="/bjc-r-ita/img/3-lists/justplayer.png" title="player () reporter"/>
                  that translates a costume number (1 or 2) into a player's
                  symbol (<strong>x</strong> or <strong>o</strong>). You can use
                  it like this:<br/>
<img alt="player (costume #) reporting x" class="indent" src="/bjc-r-ita/img/3-lists/player(costumeNumber).png" title="player (costume #) reporting x"/>
</li>
<li>
                  You can use <code>which cell? </code> to find the cell number.
                </li>
</ul>
</li>
<li>
              Build two selectors:
              <ul>
<li>
<img alt="player from move {} selector" class="inline" src="/bjc-r-ita/img/3-lists/player-from-move-selector.png" title="player from move {} selector"/>
                  takes a move (a list like <code>{x, 5}</code>) as input and
                  reports only the player (e.g., x).
                </li>
<li>
<img alt="cell number from move {} selector" class="inline" src="/bjc-r-ita/img/3-lists/cell-number-from-move.png" title="cell number from move {} selector"/>
                  takes a move as input and reports only the cell number (e.g.,
                  5).
                </li>
</ul>
</li>
</ol>
</li>
<li>
          Modify the <code>when I am dropped</code> script so that it adds each
          move to <code>current game</code>. Start a new game and make three or
          four moves to make sure that it works.
        </li>
<li>
          When a player tries to move into a cell, your program must check the
          list <code>current game</code> to see if that is a free cell.
          <ul>
<li>
              Create a
              <img alt="free cell?" src="/bjc-r-ita/img/3-lists/legal-move().png" title="free cell?"/>
              predicate that takes a cell number as input and tests it against
              <em>every move</em> in <code>current game</code>. The
              <code>free cell?</code> block should use a higher-order function
              to extract just the cell numbers from <code>current game</code> as
              a list and find out if that list contains the cell number that was
              given as input.
            </li>
<li>
              Test <code>free cell?</code> with the numbers of both free and
              occupied cells.
            </li>
</ul>
</li>
<li>
          Now modify the <code>when I am dropped</code> script again so that a
          move is allowed only if it's to a free cell.
        </li>
<li>
          Check to make sure your game works the way you want. Save your result.
        </li>
</ol>
</div>
<p>
      The next goal would be to create a way for the <em>program</em> to tell if
      a player's move has resulted in a win. The following instructions suggest
      one way, but if you want to experiment and come up with your own method,
      feel free to do that. Then skip down to the last instruction below.
    </p>
<div class="ifTime">
<ol start="8">
<li>
          Each winning combination is a list of three cells.
          <ol>
<li>What triples are winning combinations?</li>
<li>How many winning combinations are there?</li>
<li>
              Create a reporter that outputs a list of all possible winning
              combinations of cells. It will look something like this:<br/>
<img alt="TicTacToe wins partial block definition" class="indent" src="/bjc-r-ita/img/3-lists/TicTacToe-wins.png" title="TicTacToe wins partial block definition"/>
</li>
</ol>
</li>
<!--<img class="imageRight" src="/bjc-r-ita/img/icons/pair-programming-swap.png" alt="Pair Programming Swap" title="Pair Programming Swap" /> -->
<li>
          Click
          <img alt="green flag button" src="/bjc-r-ita/img/1-introduction/green-flag_button.png" title="green flag button"/>
          to clear your tic-tac-toe board and initialize (empty out)
          <code>current game</code>. Play <em>one</em> game,
          <em>deliberately letting</em> <strong>x</strong> <em> win</em>.
        </li>
<li>
          To check for wins, your script will need to know where the players
          have moved. Experiment with the following scripts, which report
          information about the game you just played. In each case, figure out
          <em>what</em> those results tell you about that game, and figure out
          <em>how</em> the script generated those results.
          <ol>
<li>
<img alt="Talk with Your Partner" class="imageRight" src="/bjc-r-ita/img/icons/talk-with-your-partner.png" title="Talk with Your Partner"/>
<img alt="item (1) of (current game)" src="/bjc-r-ita/img/3-lists/item-1-of-current-game.png" title="item (1) of (current game)"/>
</li>
<li>
<img alt="keep items such that ((player from move {}) = (x)) from (current game)" src="/bjc-r-ita/img/3-lists/Keep-items-such-that(item-1-of-()-equals-x)-from-Current-game.png" title="keep items such that ((player from move {}) = (x)) from (current game)"/>
</li>
<li>
<img alt="map (cell number from move {}) over (kep items such that ((player from move {}) = (x)) from (current game))" src="/bjc-r-ita/img/3-lists/map(item-2-of-())-over-Keep-items-such-that(item-1-of-()-equals-x)-from-Current-game.png" title="map (cell number from move {}) over (kep items such that ((player from move {}) = (x)) from (current game))"/>
</li>
<li>
              Build reporter blocks <code>player x cells</code> and
              <code>player o cells</code> that report a list of cells that the
              players occupy.<br/>
<img alt="player x cells reporting {1, 5, 9}" class="indent" src="/bjc-r-ita/img/3-lists/player-x-locations(reporting-result(6-3-9-4)).png" title="player x cells reporting {1, 5, 9}"/>
<img alt="player o cells reporting {2, 6}" class="indent" src="/bjc-r-ita/img/3-lists/player-o-locations(reporting-result(2-7-5)).png" title="player o cells reporting {2, 6}"/>
</li>
</ol>
</li>
<li>
          Now that you can determine what cells each player is in, you can
          figure out whether some subset of those cells is a win.
          <ol>
<li>
<img alt="item (1) of (TicTacToe wins)" src="/bjc-r-ita/img/3-lists/item-1-of-TicTacToe-wins.png" title="item (1) of (TicTacToe wins)"/>
</li>
<li>
<img alt="keep items such that ((list {1, 2, 3}) contains()) from (player x cells)" src="/bjc-r-ita/img/3-lists/Keep-items-such-that(list(1-2-3))-contains(item-2-of())-from-Current-game.png" title="keep items such that ((list {1, 2, 3}) contains()) from (player x cells)"/>
</li>
<li>
<img alt="keep items such that ((item (1) of (TicTacToe wins)) contains ()) from (player x cells)" src="/bjc-r-ita/img/3-lists/Keep-items-such-that(item-1-of-TicTacToe-wins)-contains(item-2-of())-from-Current.png" title="keep items such that ((item (1) of (TicTacToe wins)) contains ()) from (player x cells)"/>
</li>
</ol>
</li>
<li>
          Create a predicate block
          <img alt="do {} satisfy {} ?" src="/bjc-r-ita/img/3-lists/do-(player-x-locations)-satisfy-(item-1-of-TicTacToe-wins).png" title="do {} satisfy {} ?"/>that takes a list of a player's cells and <em>one</em> winning
          combination and reports whether those cells contain all three elements
          of the winning combination. <strong>One way</strong> to do it could
          start like this:
          <img alt="do {cells} satisfy {winning combination}? : (report ((cells) contains (item (1) of (winning combintion))) and ...)" src="/bjc-r-ita/img/3-lists/predicate-block-titled(do-positions-satisfy-winningCombination).png" title="do {cells} satisfy {winning combination}? : (report ((cells) contains (item (1) of (winning combintion))) and ...)"/>
</li>
<li>Test it for three different winning combinations.</li>
<li>
          What does
          <img alt="map (do (player x cells) satisfy {} ?) over (TicTacToe wins)" src="/bjc-r-ita/img/3-lists/map-(do(player-x-locations)satisfy())-over(TicTacToe-wins).png" title="map (do (player x cells) satisfy {} ?) over (TicTacToe wins)"/>
          report?
        </li>
<li>
          Build a block, <code>win?</code> that takes a player (<strong>x</strong>
          or <strong>o</strong>) as input and checks to see if that player wins.
        </li>
<li>
          Modify your <code>when I am dropped</code> script so that when a
          player wins the game, the program <em>notifies</em> the players.
        </li>
</ol>
<div class="takeItFurther">
<ol type="A">
<li>
            There are many small improvements you could make. For one thing,
            when a player wins, the sprite could hide itself so that no more
            moves are allowed. What else might you want to change or improve?
          </li>
</ol>
</div>
</div>
</body>
</html>
