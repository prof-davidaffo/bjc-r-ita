<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 3 Lab 3: Three Key List Operations, Page 3</title>
</head>
<body>
<img alt="Teacher's Choice" class="imageRight" src="/bjc-r-ita/img/icons/teachers-choice.png" title="Teacher's Choice"/>
<h2>The <code>Keep</code> Block (Teacher's Choice)</h2>

<p>
      The
      <img alt="keep items 'predicate input slot' from 'list input slot'" class="inline" src="/bjc-r-ita/img/blocks/keep.png" title="keep items 'predicate input slot' from 'list input slot'"/>
      block takes a predicate (with a blank input slot) and a list as input and
      creates a new list keeping only those items from the input list that match
      some criterion, such as "begins with a vowel," "is less than five
      characters long," "is even," or "is a vegetable." For example:
      <img alt="keep items such that (is () a (number)?) from {5, :), six, 7, elephant, 3} reporting {5,7,3}" class="indent" src="/bjc-r-ita/img/3-lists/keep-example-1.png" title="keep items such that (is () a (number)?) from {5, :), six, 7, elephant, 3} reporting {5,7,3}"/><br/>
<img alt="keep items such that (((letter (1) of ()) = (a)) or ((letter (1) of ()) = (o))) from {Ann, Olivia, Jamal, Karl, A.J., Tara} reporting {Ann, Olivia, A.J.}" class="indent" src="/bjc-r-ita/img/3-lists/keep-example-2.png" title="keep items such that (((letter (1) of ()) = (a)) or ((letter (1) of ()) = (o))) from {Ann, Olivia, Jamal, Karl, A.J., Tara} reporting {Ann, Olivia, A.J.}"/><br/>
<img alt="keep items such that (() &gt; (5)) from {8, 54, 12.7, .73, -1, 55} reporting {8, 54, 12.7, 55}" class="indent" src="/bjc-r-ita/img/3-lists/keep-example-3.png" title="keep items such that (() &gt; (5)) from {8, 54, 12.7, .73, -1, 55} reporting {8, 54, 12.7, 55}"/>
</p>
<p>
      You write the predicate that does the checking, and
      <code>keep</code> applies that predicate to each item in the input list
      and reports the list of elements that make your predicate true.
    </p>


<h3>Filtering Data</h3>
<div class="ifTime">
<ol start="2">
<li>
          Import
          <a class="run" href="/bjc-r-ita/prog/3-lists/old/U3L3-Grades.xml">this data set of class grades</a>.
        </li>
<li>Count the number of items in the list.</li>
<li>
          Use <code>keep</code> to create a filter that keeps only the values of
          a list that are over some input number. (It should be a reporter that
          takes a list and a number as input and reports a new list of all of
          the values in the original list that are greater than the specified
          number.)
        </li>
<li>Count number of grades that are 80 or above.</li>
<li>
<img alt="Talk with Your Partner" class="inline" src="/bjc-r-ita/img/icons/talk-with-your-partner-mini.png" title="Talk with Your Partner"/>
          Compare the size of the original list with the list of the scores of
          80 or better.
        </li>
</ol>
</div>
<!--<p><br />You may have played Geography, the game in which one player says 
a place name and the next player has to name another place whose first 
letter is the last letter of the previous place: Newark, Kentucky, 
Yonkers, San Francisco, Oklahoma. Have you ever gotten stuck on the 
letter "A"? Oklahoma, Alabama, Asia, Alaska, America, Alameda... and so 
on, forever.</p>

How many states start and end with the same letter? To find out, we first need a list of all the states. -->
<p>
      Click on the script to open a new file.<br/>
<a class="run" href="/bjc-r-ita/prog/3-lists/old/U3Lab2Keep.xml">
<img alt="Alabama, Alaska, ... Wisconsin, Wyoming" class="indent" src="/bjc-r-ita/img/3-lists/states.png" title="Alabama, Alaska, ... Wisconsin, Wyoming"/>
</a>
</p>
<div class="sidenote">
      Notice that this gray ring's inner boundary is hexagonal, which means you
      should use a <i>predicate </i>function, which is a function that reports
      <code>true</code> or <code>false</code>.
    </div>
<p>
      Morgan and Betty discuss using <code>keep</code>:
      <img alt="KEEP ITEMS SUCH THAT (&lt;predicate&gt;) FROM (list)" border="0" src="/bjc-r-ita/img/3-lists/keep_block.png" title="KEEP ITEMS SUCH THAT (&lt;predicate&gt;) FROM (list)"/>
</p>
<div class="dialogue">
<div>
<span>Morgan:</span> Let's figure out how <code>keep</code> works. Which
        states do we want to keep?
      </div>
<div>
<span>Betty:</span> Let's get a list of the states that begin and end
        with the same letter.
      </div>
<div>
<span>Morgan:</span> So the list we're using is <code>states</code>. And
        letter 1 of the word needs to be the same as the last letter of the
        word.
      </div>
<div><span>Betty:</span> Ok, so far we have this:</div>
<div class="stagedir">
<img alt="keep(letter_1=letter_blank)from(states)" src="/bjc-r-ita/img/3-lists/keep_letter1equalsletterblank.png" title="keep(letter_1=letter_blank)from(states)"/>
</div>
<div>
<span>Morgan:</span> We want the last letter of each word. The last
        letter depends on the length of the word.
      </div>
<div><span>Betty:</span> Oh, right, so we can do this:</div>
<div class="stagedir">
<img alt="keep(letter_1=letter(length))from(states)" src="/bjc-r-ita/img/3-lists/keep_letter1equalsletter(length)from(states).png" title="keep(letter_1=letter(length))from(states)"/>
</div>
<div>
<span>Morgan:</span> Each item of <code>states</code> goes in the empty
        spaces. So, let's try an example. I'll pick a state... "new york".
        Letter 1 of "new york" is "n".
      </div>
<div class="sidenote">
        The space in "new york" counts as a character. So "new york" has a
        length of 8 and the eighth letter is "k".
      </div>
<div>
<span>Betty:</span> And that equals... Well, <code>length of</code> "new
        york" is 8, and <code>letter <var>8</var> of</code> "new york" is "k".
        The condition is false because "n" doesn't equal "k". So "new york"
        doesn't show up in the list. We'll keep only the states that have the
        same first and last letter.
      </div>
</div>
<div class="ifTime">
<ol start="7">
<li>
<ol>
<li>
              Define a block that will keep all the states that start with a
              given letter. Here's an example of the block in action:<br/>
<img alt="states with S -&gt; south carolina, south dakota" border="0" class="indent" src="/bjc-r-ita/img/3-lists/s-states.png" title="states with S -&gt; south carolina, south dakota"/>
</li>
<!--	<div class="sidenote">If you need some inspiration for problem 3, look again at <a href="/bjc-r-ita/cur/programming/3-lists/2-list-operations/getting-started.html#fmapcon">problem 5 on the Getting Started</a> for this lab.</div> --->
<li>
              Write an expression that will select all the states whose names
              are at least seven letters long.
            </li>
<!--	<img title="KEEP(vowels_contains_blank)from(states)" alt="KEEP(vowels_contains_blank)from(states)" src="/bjc-r-ita/img/3-lists/keep_vowelsfromstates.png" /> -->
</ol>
</li>
</ol>
</div>
<h3>Using <code>Map</code> and <code>Keep</code> to Access a Database</h3>
<p>
      A <strong>database</strong> is a list of <em>records</em>. Each record is
      a list of its own (the "data" for that record). For example, a database of
      people in New York might consist of records that contain first name, last
      name, address, and phone number. To be useful, a database needs
      <strong>selectors</strong> that pull out individual pieces of information
      from each record.
    </p>
<div class="ifTime">
<ol start="8">
<li>
<img alt="Talk with Your Partner" class="imageRight" src="/bjc-r-ita/img/icons/talk-with-your-partner.png" title="Talk with Your Partner"/>
          Discuss how <code>map</code> and <code>keep</code> might be useful in
          selecting and organizing data from a database.
        </li>

<li>
<ol>
<li>
              Make a database with data from a few people in your class. Each
              record contains first and last names, age (in years), and height
              (in inches). So, your database might start out like this:<br/>
<img alt="data_from_class" class="indent" src="/bjc-r-ita/img/3-lists/database.png" title="data_from_class"/>
</li>
<li>
              Make your selectors. You need four of them; you could call them
              <code>firstname</code>, <code>lastname</code>, <code>age</code>,
              and <code>height</code>. Here's how <code>age</code> might
              work:<br/>
<img alt="age_sasha" class="indent" src="/bjc-r-ita/img/3-lists/agesel.png" title="age_sasha"/>
</li>
<li>
              Search your database and create a list of all classmates who
              are...
              <ol style="list-style: lower-roman">
<li>The same age as you</li>
<li>Taller than you</li>
<li>Younger than you</li>
</ol>
</li>
<li>
              Search your database and create a list of all classmates whose...
              <ol style="list-style: lower-roman">
<li>Last name has the same first letter as yours</li>
<li>
                  First name starts with a letter that comes before yours in the
                  alphabet
                </li>
</ol>
</li>
</ol>
</li>
</ol>
</div>
<div class="takeItFurther">
<ol type="A">
<li>
          Make a block that takes your database and reports a rearrangement of
          the records so that the last names of your classmates are in
          alphabetical order.
        </li>
</ol>
</div>
<!-- question 1 (was #3 on Self Check Page) -->
<div class="assessment-data" hasinlinefeedback="true" identifier="is_a_number" maxchoices="3" responseidentifier="resp3" shuffle="true" type="multiplechoice">
<div class="prompt">
<p>
          Use this list of words and numbers: <br/>
<img alt="set (words and numbers) to {rabbit, 5, benefit, is, 34, kite, 2, 305, the, 61}" class="indent" src="/bjc-r-ita/img/3-lists/words_numbers.png" title="set (words and numbers) to {rabbit, 5, benefit, is, 34, kite, 2, 305, the, 61}"/><br/>
          Which of these expressions produce the list with just the numbers:
          <var>{5, 34, 2, 305, 61}</var>?<br/>
          Choose <strong>all</strong> that apply.
        </p>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="map (is () a (number)?) over (words and numbers)" border="0" src="/bjc-r-ita/img/3-lists/check2isaNumc1.png" title="map (is () a (number)?) over (words and numbers)"/>
</div>
<div class="feedback">
          No. The <code>Is a number?</code> block is a predicate, so
          <code>map</code> will report a list of Boolean (true/false) values,
          not a list of numbers.
        </div>
</div>
<div class="choice" identifier="c2">
<div class="text">
<img alt="keep items such that (is () a (number)?) from (words and numbers)" border="0" src="/bjc-r-ita/img/3-lists/check2isaNumc2.png" title="keep items such that (is () a (number)?) from (words and numbers)"/>
</div>
<div class="feedback">Correct.</div>
</div>
<div class="responseDeclaration" identifier="resp3">
<div class="correctResponse" identifier="c2"></div>
</div>
</div>
</body>
</html>
