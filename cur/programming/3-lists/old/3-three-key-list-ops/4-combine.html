<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 3 Lab 3: Three Key List Operations, Page 4</title>
</head>
<body>
<img alt="Teacher's Choice" class="imageRight" src="/bjc-r-ita/img/icons/teachers-choice.png" title="Teacher's Choice"/>
<h2>The <code>Combine</code> Block (Teacher's Choice)</h2>


<p>
            The <img alt="combine 'list input slot' using 'reporter input slot'" class="inline" src="/bjc-r-ita/img/blocks/combine.png" title="combine 'list input slot' using 'reporter input slot'"/> block takes an operation (with <em>two</em> blank input slots) and a list as input and reports a single result: the combination for all of the elements of the list when using the given operation. For example: <img alt="combine with (()+()) items of (list {5,6,2,3}) reporting 16" class="indent" src="/bjc-r-ita/img/3-lists/combine-example-1.png" title="combine with (()+()) items of (list {5,6,2,3}) reporting 16"/><br/>
<img alt="combine with (join words () ()) items of (list {apples, bananas, oranges, grapes}) reporting 'apples bananas oranges grapes'" class="indent" src="/bjc-r-ita/img/3-lists/combine-example-2.png" title="combine with (join words () ()) items of (list {apples, bananas, oranges, grapes}) reporting 'apples bananas oranges grapes'"/>
</p>
<p>You choose the operation (with two input slots), and <code>combine</code> performs that operation between all the items in the input list and reports the result.</p>
<div class="ifTime" id="first">

<ol>
<li>
<img alt="Talk with Your Partner" class="inline" src="/bjc-r-ita/img/icons/talk-with-your-partner-mini.png" title="Talk with Your Partner"/>
					Discuss what <code>combine</code> does in this script: <img alt="" class="inline" src="/bjc-r-ita/img/3-lists/compare-play-note-5.png" title=""/>
</li>
<div class="sidenote">Even if there are two blanks in <code>map</code>, there's still only <em>one</em> input</div>
<li>Make a block <img alt="max of () and ()" border="0" src="/bjc-r-ita/img/3-lists/max_of.png" title="max of () and ()"/> that returns the larger of two inputs. </li>
<li>Make <img alt="map max over list 1 4 9 5 " border="0" src="/bjc-r-ita/img/3-lists/maxpict.png" title="map max over list 1 4 9 5"/> and <img alt="combine with max (1,4,9,5)" border="0" src="/bjc-r-ita/img/3-lists/maxpict1.png" title="combine with max (1,4,9,5)"/>. <img alt="Talk with Your Partner" src="/bjc-r-ita/img/icons/talk-with-your-partner-mini.png" title="Talk with Your Partner"/> What is going into the blank  spaces for <code>max</code>? What seems to be going in the blanks for <code>combine</code>? </li>
</ol>
</div>
<div class="takeNote">
<!---	<div class="sidenote">Note that these are all <em>two-input</em> functions.</div>--->
<p>
<strong>Ways to Think About It.</strong> When you see this:<br/>
<div class="sidenote">The gray ring around the addition signals that you're going to apply the addition <em>function</em> to all of the elements of the list.</div>

<img alt="combine with addition (1,2,3,4)" border="0" src="/bjc-r-ita/img/3-lists/combine_add_1234.png" title="combine with addition (1,2,3,4)"/><br/>
            	think "I'm going to combine all the elements of <var>{1, 2, 3, 4}</var> using addition."<br/>
            	In other words, "I'm going to add up all the elements of <var>{1, 2, 3, 4}</var>"
            </p>
<p>
<code>Combine</code> is used with functions that take two inputs like:<br/>
<img alt="sum block" class="indent" src="/bjc-r-ita/img/3-lists/sum.png" title="sum block"/>
<img alt="product block" src="/bjc-r-ita/img/3-lists/product.png" title="product block"/>
<img alt="join block" src="/bjc-r-ita/img/3-lists/join_two_blanks.png" title="join block"/>
<img alt="join words (2 blanks)" src="/bjc-r-ita/img/3-lists/join_words_two_blanks.png" title="join words (2 blanks)"/>
<img alt="and predicate block" src="/bjc-r-ita/img/3-lists/and.png" title="and predicate block"/>
<img alt="or predicate block" src="/bjc-r-ita/img/3-lists/or.png" title="or predicate block"/>or  the <code>max</code> function that you defined above.
            </p>
<!--- --->
<p>These operations are <em>associative</em>, which means that the result is the same no matter how the items are grouped. For example, (3 + 4) + 5 = 3 + (4 + 5) and <code>join words</code>("the cat")("sat") = <code>join words</code>("the")("cat sat").</p>
<!--The expression <img border="0" src="/bjc-r-ita/img/3-lists/combine_minus_345.png" alt="combine with (subtraction) 3,4,5" title="combine with (subtraction) 3,4,5" /> actually gives the result of 3 - (4 - 5).-->
</div>
<div class="ifTime">
<ol start="4">
<li>What happens if you drag non-associative blocks such as <img alt="difference block" border="0" src="/bjc-r-ita/img/3-lists/difference.png" title="difference block"/> or <img alt="quotient block" border="0" src="/bjc-r-ita/img/3-lists/quotient.png" title="quotient block"/> into <code>combine</code>? Try it.</li>
<div class="endnote"> <strong>Moral of the story:</strong> don't use subtraction or division in <code>combine</code> because the grouping of the items matters in these cases. For example, (3 – 4) – 5 ≠ 3 – (4 – 5). </div>
<li>Build a block <code>sum</code> that takes a list of numbers and reports their sum.</li>
<li>
<!--<div class="sidenote">average<br />= (sum of numbers) / (number of numbers)</div>-->
                    Click on the script to open a new project.<br/>
<a class="run" href="/bjc-r-ita/prog/3-lists/old/U3Lab2Combine.xml"> <img alt="list of 2-digit numbers" class="indent" src="/bjc-r-ita/img/3-lists/numbers_list.png" title="list of 2-digit numbers"/> </a><br/>
                    Edit the block definition for <img alt="average(grades)" border="0" src="/bjc-r-ita/img/3-lists/average_grades.png" title="average(grades)"/> to report the average of a list of grades. Use your block to find the average of <code>numbers</code>: <span class="katex-block">\text{average} = \frac{\text{sum of numbers}}{\text{total number of numbers}}</span>
</li>
</ol>
</div>
<div class="takeItFurther">
<ol type="A">
<li><img alt="Talk with Your Partner" class="imageRight" src="/bjc-r-ita/img/icons/talk-with-your-partner.png" title="Talk with Your Partner"/>Try this experiment. Make <img alt="map addition over (1,2,3,4)" border="0" src="/bjc-r-ita/img/3-lists/map_add_1234.png" title="map addition over (1,2,3,4)"/> and <img alt="combine with addition (1,2,3,4)" border="0" src="/bjc-r-ita/img/3-lists/combine_add_1234.png" title="combine with addition (1,2,3,4)"/>.  What is going into the blank addition spaces for <code>map</code>? What seems to be going in the blanks for <code>combine</code>? </li>

<li>
<img alt="Talk with Your Partner" src="/bjc-r-ita/img/icons/talk-with-your-partner-mini.png" title="Talk with Your Partner"/>
                    You met the <em>factorial</em> function before (see <a href="/bjc-r-ita/cur/programming/2-complexity/old/old-script-variables/1-script-variables.html#factorial" target="_blank">this example</a>). It takes a positive integer input <em>n</em> and reports the product of all the positive integers between 1 and <em>n</em>. Make a block <code>factorial</code> that models this using  <code>combine</code>.  
                    <!--- <a href="/bjc-r-ita/cur/programming/3-lists/1-introduction-to-lists/getting-started.html#countdown">Hint.</a>--->
<!---<a href="/bjc-r-ita/cur/programming/2-conditionals-abstraction-testing/2-script-variables/1-script-variables.html#factorial"></a>  --->
<p><img alt="factorial of 5" class="indent" src="/bjc-r-ita/img/3-lists/factpict.png" title="factorial of 5"/></p>
</li>
</ol>
</div>
<!--<p><br />Let's say you have a list of numbers, such as all the students' grades on a quiz. You want to find the average grade. There are two steps: First, add up all the numbers; then divide that sum by the number of numbers &#45 that is, by the length of the list.<br />
<img border="0" src="/bjc-r-ita/img/list/hof/average.png" alt="average uses COMBINE WITH +" title="average uses COMBINE WITH +"/>
<br />
Notice that the red <code>length</code> <code>of</code> block that finds the number of items in a list is different from the green <code>length of</code> block that finds the number of letters in a text string.

<br /><br />
The first input to the <code>combine</code> block is a <i>two-input </i>function. In this case, it's the <b><code>+</code></b> block, because we want to add all the numbers. In fact, unlike the situation with the <code>map</code> and <code>keep</code> blocks, there are really only a handful of functions you'll ever use with <b>combine</b>:<br />
<img border="0" src="/bjc-r-ita/img/list/hof/bad-operators.png" alt="+, *, and, or, join, join words" title="+, *, and, or, join, join words"/>
</p>
Why did we include the addition and multiplication operators, but not subtraction or division? Using an operator with <code>combine</code> makes sense only if it doesn't matter whether the values are combined left to right or right to left. That is,
<br />
3+(4+5) = (3+4)+5
<br />but
<br />3-(4-5) &ne; (3-4)-5

<p><br />
  Very occasionally you'll define a two-input custom reporter for use with <code>combine</code>.

The two-input <code>max</code> block is an example; try using that to find the largest of a list of numbers.<b><br />
</b><br />
We should try out the <code>average</code> block:<br />
<img border="0" src="/bjc-r-ita/img/list/hof/avg781.png" alt="average of the list 7,8,1 iw 5.333333" title="average of the list 7,8,1 iw 5.333333"/>
<br />Is that the answer you'd expect?<br /><br />  
  </p>-->
<!-- question 1 (was #1 on Self Check Page) -->
<div class="assessment-data" hasinlinefeedback="true" identifier="squares_mapkeepcombine" maxchoices="8" responseidentifier="resp1" shuffle="true" type="multiplechoice">
<div class="prompt">
<p>
                    Use this list of squares: <br/>
<img alt="set (squares) to {1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225}" class="indent" src="/bjc-r-ita/img/3-lists/squares.png" title="set (squares) to {1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225}"/><br/>
                    Which of these expressions will report a <strong>list</strong>?<br/>
                    Choose <strong>all</strong> that apply.
                </p>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="map (sqrt of()) over (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c1.png" title="map (sqrt of()) over (squares)"/>
</div>
<div class="feedback">
                    Correct.
                </div>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="keep items such that (()mod(2)=0) from (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c2.png" title="keep items such that (()mod(2)=0) from (squares)"/>
</div>
<div class="feedback">
                    Correct.
                </div>
</div>
<div class="choice" identifier="c2">
<div class="text">
<img alt="combine with (()+()) items of (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c3.png" title="combine with (()+()) items of (squares)"/>
</div>
<div class="feedback">
                    No, + reports a number, so in this case <code>combine</code> will report a number. 
                </div>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="keep items such that (letter (length of ()) of () = 1) from (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c4.png" title="keep items such that (letter (length of ()) of () = 1) from (squares)"/>
</div>
<div class="feedback">
                    Correct.
                </div>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="map (()+()) over (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c5.png" title="map (()+()) over (squares)"/>
</div>
<div class="feedback">
                    Correct. 
                </div>
</div>
<div class="choice" identifier="c3">
<div class="text">
<img alt="combine with (join ()()) items of (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c6.png" title="combine with (join ()()) items of (squares)"/>
</div>
<div class="feedback">
                    No. <code>join</code>(1,4) will report 14. 
                </div>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="map ((0)-()) over (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c7.png" title="map ((0)-()) over (squares)"/>
</div>
<div class="feedback">
                    Correct. 
                </div>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="map (()-()) over (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c8.png" title="map (()-()) over (squares)"/>
</div>
<div class="feedback">
                    Correct. 
                </div>
</div>
<div class="responseDeclaration" identifier="resp1">
<div class="correctResponse" identifier="c1"></div>
</div>
</div>
<!-- question 2 (was #2 on Self Check Page) -->
<div class="assessment-data" hasinlinefeedback="true" identifier="squares" maxchoices="5" responseidentifier="resp2" shuffle="true" type="multiplechoice">
<div class="prompt">
<p>
                    Use the same list of squares: <br/>
<img alt="set (squares) to {1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225}" class="indent" src="/bjc-r-ita/img/3-lists/squares.png" title="set (squares) to {1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225}"><br/>
                    The expressions in this problem are the same as you saw in question 1.<br/>
                    Which of these statements are <strong>true</strong>?<br/>
                    Choose <strong>all</strong> that apply.
                </img></p>
</div>
<div class="choice" identifier="c1">
<div class="text">
<img alt="keep items such that (()mod(2)=0) from (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c2.png" title="keep items such that (()mod(2)=0) from (squares)"> reports a list with only even square numbers.
                </img></div>
<div class="feedback">
                    Correct.
                </div>
</div>
<div class="choice" identifier="c2">
<div class="text">
<img alt="combine with (()+()) items of (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c3.png" title="combine with (()+()) items of (squares)"> and <img alt="map (()+()) over (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c5.png" title="map (()+()) over (squares)"> report the same result.
                </img></img></div>
<div class="feedback">
                    No, <code>combine</code> will report a number, whereas <code>map</code> will report a list.
                </div>
</div>
<div class="choice" identifier="c3">
<div class="text">
<img alt="keep items such that ((letter (length of ()) of ())=1) from (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c4.png" title="keep items such that ((letter (length of ()) of ())=1) from (squares)"> reports the list <var>{1, 16, 100, 121, 144, 169, and 196}</var>.
                </img></div>
<div class="feedback">
                    No, this doesn't mean "keep numbers in which the first<em></em> digit is 1"; it means "keep numbers in which <em>the last</em> digit is 1." 
                </div>
</div>
<div class="choice" identifier="c4">
<div class="text">
<img alt="combine with (()+()) items of (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c3.png" title="combine with (()+()) items of (squares)"> and <img alt="combine with (join ()()) items of (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c6.png" title="combine with (join ()()) items of (squares)"> report the same result.
                </img></img></div>
<div class="feedback">
                    No; adding two numbers isn't the same as stringing their digits together.
                </div>
</div>
<div class="choice" identifier="c5">
<div class="text">
<img alt="map ((0)-()) over (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c7.png" title="map ((0)-()) over (squares)"/> and <img alt="map (()-()) over (squares)" border="0" src="/bjc-r-ita/img/3-lists/check2squares1c8.png" title="map (()-()) over (squares)"/> both report a list with negative values.
                </div>
<div class="feedback">
                    No. One of these lists is made up of 15 items that are all zero.
                </div>
</div>
<div class="responseDeclaration" identifier="resp2">
<div class="correctResponse" identifier="c1"></div>
</div>
</div>
</body>
</html>
