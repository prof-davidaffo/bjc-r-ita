<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 3 Lab 5: Data and Functions, Page 2</title>
</head>
<body>
<img alt="Teacher's Choice" class="imageRight" src="/bjc-r-ita/img/icons/teachers-choice.png" title="Teacher's Choice"/>
<h2>Building a Graphing App (Teacher's Choice)</h2>

<p>
      Plotting a single point, given its two coordinates, should feel this
      simple:<br/>
<!--
            
            
            <div class="sidenoteBig">Notice that the last block returns the sprite to its original location. This keeps the block <em>state transparent</em>&mdash;leaving things where they are when you started. You want each procedure to do its thing and otherwise leave things the same so you don't have any surprises. <!--(You saw an example of a bug from a program that was <em>not state transparent</em> in <a href="/bjc-r-ita/cur/programming/1-introduction/4-grids-for-games/1-building-tic-tac-toe.html?topic=nyc_bjc%2F1-intro-loops.topic&course=bjc4nyc.html&novideo&noassignment">Unit 1</a>.)- -></div>-->
<img alt="PlotPoint block using go to x y, pendown, move 1, penup" class="indent" src="/bjc-r-ita/img/5-algorithms/PlotPoint-simple.png"/>
</p>
<p>
      Then you could graph a whole list of data points by inventing a block like
      <img alt="Graph datapoints (pointlist)" src="/bjc-r-ita/img/5-algorithms/GraphDatapoints.png"/>
      that uses <code>for each</code> to apply <code>PlotPoint</code> to each
      point in the list. Depending on the kind of graph you want, you could even
      connect the dots.
    </p>
<p>
      That seems like all you should need. But what if the <em>scale</em> of
      your data does not fit on the Snap<em>!</em> stage (between -240 and 240
      in the <em>x</em> direction and between -180 and 180 in the
      <em>y</em> direction)? For example, what if you want to plot the
      popularity of a baby name over time, like this?<br/>
<img alt="percentage of births named Derek by year" class="indent" src="/bjc-r-ita/img/5-algorithms/PercentageOfDerekByYear.png" title="percentage of births named Derek by year"/>
</p>
<p>
      The <em>x</em>-values can't be plotted because they are completely off of
      Snap<em>!</em>'s stage. And the <em>y</em>-values 0, 0.1, 0.2, 0.3, etc.,
      are so close to each other that they would all look the same. We wouldn't
      see the huge increase in popularity between 1960 and 1980 at all.
    </p>
<div class="takeNote">
      A good graphing app needs to let the user set the
      <strong>scale</strong> of the screen, to specify where to focus
      attentionâ€”where to zoom in.
    </div>
<div class="ifTime" id="first">
<ol>
<li>
          Load
          <a class="run" href="/bjc-r-ita/prog/5-algorithms/U5L2-GraphingApp.xml">this Snap<em>!</em> project.</a>
          It contains several blocks already built for your convenience.
          <ol>
<li>
              Click the <code>set window scale</code> block with the inputs it
              already has (-2, 4, 30, 300) to see what it does. In addition to
              drawing on the screen, it sets several variables that your other
              blocks will need so that they know the intended screen dimensions.
            </li>
<li>
              Experiment with inputs to these two blocks to get them to report
              0.<br/>
<img alt="stage coord for x" class="indent" src="/bjc-r-ita/img/5-algorithms/stage-coord-for-x.png" title="stage coord for x"/>
<img alt="stage coord for y" src="/bjc-r-ita/img/5-algorithms/stage-coord-for-y.png" title="stage coord for y"/><br/>
              How do your input numbers relate to the window scale?
            </li>
<li>
              Use
              <img alt="go-to-x-(stage-coord-for-x)-y-(stage-coord-for-y)" class="inline" src="/bjc-r-ita/img/5-algorithms/go-to-x-(stage-coord-for-x)-y-(stage-coord-for-y).png" title="go-to-x-(stage-coord-for-x)-y-(stage-coord-for-y)"/>
              with those same input numbers. Where does it put the sprite?
            </li>
<li>
              Without changing the sprite's position, click
              <img alt="x-value-at-stage-coord(x-position) " src="/bjc-r-ita/img/5-algorithms/x-value-at-stage-coord(x-position) .png"/>
              and explain the result you get.
            </li>
<li>
<div class="sidenoteBig">
                For this graph, a sprite at the bottom right corner of the stage
                should say (4, 30), not (240, -180).
              </div>
              Now create a script that tells the sprite to say its correct
              <em>graph</em> coordinates (not its <em>stage</em> coordinates).
            </li>
<li>
              Use the
              <img alt="When I am dropped" src="/bjc-r-ita/img/blocks/when-I-am-dropped.png"/>
              block with your new script so that when you move the sprite
              around, it says its <em>graph</em> coordinates wherever it is
              dropped.
            </li>
<li>

              Now, change the inputs of <code>set window scale</code> to (1927,
              2014, 0, 0.5) and click it to reset the scale of the screen. Check
              to see if your sprite says what you expect when you move it around
              the stage.<br/>
<img alt="set-window-scale-xmin-(1927)-xmax-(2014)-ymin-(0)-ymax-(0.5)" class="indent" src="/bjc-r-ita/img/5-algorithms/set-window-scale-xmin-(1927)-xmax-(2014)-ymin-(0)-ymax-(0.5).png"/>
</li>
</ol>
</li>
<li>

          Experiment with various inputs to <code>set window scale</code> to see
          where it puts the axes and how it represents the
          "substitutes" for the axes, when the axes can't be shown.
          Then, change the inputs of <code>set window scale</code> back to
          (1927, 2014, 0, 0.5).
        </li>
<li>
          Build
          <img alt="go to scaled point" src="/bjc-r-ita/img/5-algorithms/go-to-scaled-point-x-y.png"/>.
          <p>
            On the baby name graph for Derek, the point (1971, 0.25) is roughly
            in the middle of the screen. Check to see if
            <img alt="go-to-scaled-point-x(1971)-y(0.25)" src="/bjc-r-ita/img/5-algorithms/go-to-scaled-point-x(1971)-y(0.25).png"/>
            is working as you expect it to.
          </p>
<img alt="percentage of births named Derek by year" class="indent" src="/bjc-r-ita/img/5-algorithms/PercentageOfDerekByYear.png" title="percentage of births named Derek by year"/>
</li>
<li>
          Then, build <code>PlotPoint</code> so that it uses
          <code>go to scaled point</code> instead of plain <code>go to</code>.
          Check it to make sure it works as you expect it to.
        </li>
<li>
          Finally, build
          <img alt="Graph datapoints (pointlist)" src="/bjc-r-ita/img/5-algorithms/GraphDatapoints.png"/>
          to make a dot at every datapoint, but <em>not</em> to connect the
          points (for now). Apply it to <code>DerekData1927to2015</code>. Your
          graph won't be connected and won't have labels, and it will fill the
          whole stage, but it should otherwise look like the graph above.<br/>
<img alt="graph of DerekData1927to2015" class="indent" src="/bjc-r-ita/img/5-algorithms/grapher-result.jpg" title="graph of DerekData1927to2015"/>
<img alt="Save your work" class="imageRight" src="/bjc-r-ita/img/icons/save-now.png" title="Save your work"/>
</li>
</ol>
</div>
<div class="takeItFurther">
<ol type="A">
<li>
          Invent a way to tell your graphing app, for each graph you make,
          whether to connect the points or not.
        </li>
</ol>
</div>
</body>
</html>
