<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<script src="/bjc-r-ita/llab/loader.js" type="text/javascript"></script>
<title>Unit 3 Lab 1: Contacts List, Page 3</title>
</head>
<body>
<img alt="Teacher's Choice" class="imageRight" src="/bjc-r-ita/img/icons/teachers-choice.png" title="Teacher's Choice"/>
<h2>Improving Your Contact List App</h2>



<div class="ifTime" id="first">
<ol>
<li>
          Load your contact list app from before; it should be saved as
          "U3L2-ContactList"
        </li>
<li>
          Real contact apps have a lot more information than just a name and a
          phone number. Modify
          <img alt="get new contact" src="/bjc-r-ita/img/3-lists/get-new-contact.png"/>
          so that each contact includes a name, <em>an address,</em> and a phone
          number, in that order. There is already a
          <code>get address</code> block in your project; edit it and use it as
          you modify <code>get new contact</code>.
        </li>
<li>
<strong>Clear your contact list</strong> and add a few entries in the
          new format.
        </li>
<li>
          Try your
          <img alt="phone number of ()" src="/bjc-r-ita/img/3-lists/phone-number-of.png"/>
          block again.
          <img alt="Talk with Your Partner" class="inline" src="/bjc-r-ita/img/icons/talk-with-your-partner.png" title="Talk with Your Partner"/>
          Does it still work? Why not? You could fix the problem, but...
        </li>
</ol>
</div>
<p>
      As we add more complexity to contacts—birthday, spouse, work
      address, and so on—the location of the phone number within a contact
      might keep changing.
      <em>This is where an abstract data type helps!</em> Instead of fixing
      every block that uses the phone number each time you move the phone number
      in the contact, you can define one <em>selector</em> block that knows
      where in the list the phone number is and use that in all other blocks
      that need to know.<!--  That way, a very small number of procedures will know the details of where things are, and only those will need editing when things change. Other parts of your program will use those special procedures and will keep working when the representation changes. -->
</p>
<div class="ifTime">
<h4>Create the Abstract Data Type</h4>
<ol start="5">
<li>
          To start, write a <em>constructor</em> block for the contact type that
          looks like this:<br/>
<img alt="contact name= () addr= () phone= ()" class="indent" src="/bjc-r-ita/img/3-lists/contact-constructor.png"/><br/>
          It should report a contact (still a list of three items).
        </li>
<div class="endnote">
          Note that it takes the three items as inputs; it doesn't ask the user
          to enter the information. This block will be used in
          <img alt="get new contact" src="/bjc-r-ita/img/3-lists/get-new-contact.png"/>, but it doesn't do the entire job of
          <img alt="get new contact" src="/bjc-r-ita/img/3-lists/get-new-contact.png"/>.
        </div>
<li>
          Rewrite
          <img alt="get new contact" src="/bjc-r-ita/img/3-lists/get-new-contact.png"/>
          to use this constructor.
        </li>
<li>
          Now write two new <em>selector</em> blocks. Each of them should take a
          contact as input and report the right piece of that contact.<br/>
<img alt="contact address ( )" class="indent" src="/bjc-r-ita/img/3-lists/address-selector.png"/><br/>
<img alt="contact phone ( )" class="indent" src="/bjc-r-ita/img/3-lists/phone-selector.png"/><br/>
</li>
<li>
          Also, check that the selectors you've already written still work, and
          fix them if needed.<br/>
<img alt="name (display form) ()" class="indent" src="/bjc-r-ita/img/3-lists/name-display.png"/><br/>
<img alt="name (sorting form) ()" class="indent" src="/bjc-r-ita/img/3-lists/name-sorting.png"/><br/>
          Together, the constructor and selectors define an
          <strong>abstract data type</strong>, in this case, the "contact" data
          type.
        </li>
</ol>
</div>
<div class="ifTime">
<h4>Rewrite the Lookup Blocks</h4>
<ol start="9">
<li>
          Now you can rewrite the <code>phone number</code> block as shown
          below. You'll write the red <code>contact info</code> block using the
          definition from your old <code>phone number</code> block, except that
          instead of extracting the phone number, it should report the entire
          contact (a list).<br/>
<img alt="report contact phone (contact info for (name))" class="indent" src="/bjc-r-ita/img/3-lists/phone-number-script.png"/>
</li>
<li>
          Do the same thing for the
          <img alt="name from number ()" src="/bjc-r-ita/img/3-lists/name-from-number.png"/>
          block. You'll need a red <code>contact info from number</code> block.
          Make sure this all works.
        </li>
</ol>
</div>
<img alt="Save your work" class="inline" src="/bjc-r-ita/img/icons/save-now.png" title="Save your work"/>
<!--<p>Later in this unit, you'll improve the contact app still further, to handle family-name-first names correctly.</p>-->
</body>
</html>
